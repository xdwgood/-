# 论文名称：　尾座式无人机的建模于控制

### 作者： Romain Chiappinelli

## 摘要

tailsitter是一类特殊的固定翼无人机，旨在弥合旋翼机和传统固定翼飞机之间的差距。这些系统能够执行特技和静止机动，包括垂直起飞和着陆，以及高效的水平飞行。然而，由于两种不同的飞行模式，这种飞行能力带来了控制挑战。在多旋翼飞行期间，机翼失速，只有推力支撑飞机的重量。后面的控制面板叫升降舵它产生影响由于推力产生的滑流。在平飞期间，飞机以相当大的向前速度飞行，从机翼产生升力以及从升降副翼产生控制权。在这项研究中，基于组件分解方法，为整个飞行包线范围开发了一个实时模拟器。模拟器包括平板空气动力学模型，其中包括控制面偏转的影响、地面接触模型以及半经验推进器模型。在这个模拟环境中开发和实现了一个基于四元数的控制器，并在真实平台上进行了测试。通过实验证明实际飞行任务所需的自主机动，包括垂直起飞和爬升、过渡到水平飞行、返回过渡、静止飞行、垂直下降和着陆。比较模拟和飞行实验的结果，并用于定性评估模拟器的性能。


## 第一章：介绍

### 1.1:背景知识和动机

无人驾驶飞行器 (UAV) 被提议用于搜索和救援、监控、农业管理、航空摄影和 3D 测绘等多种应用。今天的无人机市场主要分为旋翼机和固定翼飞机。旋翼机具有垂直起降（VTOL）、悬停飞行能力和高机动性。相比之下，固定翼飞机能够高效快速地平飞，适合远程和耐力应用；但需要跑道或其他设备，例如发射器和网，用于起飞和着陆。此外，传统的固定翼飞机不能悬停飞行。结合这两类飞机的优势的想法导致了一种称为 VTOL 飞机或混合动力飞机的新类别。VTOL 飞机的早期设计出现在 1950 年代，Convair Pogo 是第一个被报道的有人驾驶尾翼。由于飞行员难以执行从垂直飞行到水平飞行的过渡，该项目在几次成功飞行后被取消。更成功的设计，例如 Harrier Jump Jet 或倾转旋翼波音 V22 Osprey，如图 1-2 所示，今天仍在使用。然而，这些设计从未用于民用应用。


虽然它们不太适合运输人员或货物，但这些概念作为无人机可能更有希望。建模、控制理论和硬件小型化的进步都是自主 VTOL 飞机开发的使能技术，导致无人机学术研究对 VTOL 飞机的兴趣增加。

### 1.2：平台选择

今天提出了几种混合设计，其中许多是自制的。在这项研究中，目标不是设计飞机，而是研究动力学和控制。这就是选择市场上可用机身的原因。基于可用平台的成熟度和可靠性，仅考虑两种 VTOL 机身：

A： X-Vert VTOL from Horizon Hobby（俩个马达尾座式）
B： FireFLY6 from BirdsEyeView Aerobotics

X-Vert tailsitter 是一款经济实惠的平台，翼展约为 0.5 m。这是一架带有两个推进器的飞翼飞机，可以起飞和降落且保持机头向上。为了完成从悬停飞行到水平飞行的过渡，整个飞机需要俯仰进入水平。该平台配备定制硬件和姿态控制器，能够执行从垂直飞行到水平飞行的转换以及从水平飞行到垂直飞行的返回转换。但是，如果选择这个平台，整个硬件和控制器都需要更换，因为嵌入式系统不是开源的。高的推重比允许飞机悬停和垂直飞行，推进器提供支撑飞机重量的力。在这种情况下，推进器吹出的气流，称为滑流，确保后控制面提供姿态控制的权限。在水平飞行期间，飞机几乎是水平定向的，其重量主要由机翼产生的升力支撑。在这第二种情况下，由于飞机的大量前进速度产生的气流，控制面是有效的。

FireFLY6 是使用开源 Pixhawk 硬件控制器的倾转旋翼设计。 它是一个翼展约 1.5 m 的飞翼，带有三个反向旋转的推进器对。 两个前推进器对可以倾斜以执行转换。 在垂直机动期间，这架飞机充当 Y 形六旋翼。

选择第一个机身是因为它的机械简单性和最少数量的执行器使这款尾翼成为优雅的学术工具。 一个吸引人的地方是，由于两种飞行方式在空气动力学上非常不同，因此尾翼在动力和控制方面面临更大的挑战。


### 1.3:文献综述

### 1.3.1:尾座式无人机

研究界报告了几种成功的尾翼无人机控制策略。tailsitter能够在不同的飞行状态下飞行，这会导致非常非线性的空气动力学，这对于用单个控制器进行控制是具有挑战性的。为了克服这个困难，衍生出随飞行模式而变化的姿态和高度控制器，例如在敏捷固定翼飞机上在室内测试的悬停和水平飞行线性控制器之间选择的切换逻辑，在室外测试的适应姿态控制的增益调度 在 18 公斤的尾翼或混合控制器上，它使用不同的动力学模型进行悬停、过渡和水平飞行，每个模型都有一个单独的控制器，最后一个控制器仅在模拟中进行了测试。开发了其他类型的基于自适应的控制器，例如在10文章中，它使用机载递归最小二乘法来估计将偏转与角加速度相关的线性函数。然后在这个估计的动力学模型上应用反推控制器，并能够在室外环境飞行测试期间控制飞机。最近，使用自适应方法从基础的函数中估计空气动力学，然后级联架构控制器能够跟踪室内环境中的路径。作为姿态误差的函数的预先计算的最佳身体速率被用于姿态控制器。

在文章12中使用了一种更经验的方法，其中基于一半飞机的风洞实验，力和力矩模型被实现为速度、迎角、电机转速和升降舵偏转数据的二次曲线拟合。然后将控制结构分成在 SO(3) 中运行的姿态控制器，它生成所需的力矩和执行器分配，混合执行器以实现这些力矩和所需的纵向力。这种方法能够跟踪室外环境中的路径。

另一种基于物理学的方法，使用四元数进行姿态控制在文章13中有所报道。 首先，根据位置误差、速度误差和空气动力学模型计算所需的加速度。 然后，选择所需的姿态以将推进器指向所需的加速度。 最后，期望的矩被计算为四元数误差和身体速率的 PD 定律。 报告了户外实验，但没有报告用于空气动力学系数的模型，也没有报告用于将控制面偏转与力矩相关联的模型。

在这项工作中，所实现的控制器源自一个基于四元数的控制器，该控制器是为特技飞行开发的，它不假设任何特定的操作点。因为它考虑了全范围的旋转运动，所以能够在大的姿态变化下表现良好。它的级联架构允许它以最少的修改应用于不同的平台。选择这种控制策略，因为它已经被证明，通过实验飞行测试，能够在特技飞行中控制固定翼飞机，包括平飞、悬停、过渡、激进的转身....在先前的工作中进行的从水平飞行到悬停的过渡与尾翼所需的过渡非常相似。


### 1.3.2:实时仿真

空气动力和力矩通常按流入速度的平方进行建模。 这仅允许使用**迎角 (AOA)** 的空气动力学系数函数。对于低迎角，升力系数通常线性建模，阻力系数建模为升力系数的二次函数,这是传统固定翼飞机的常见模型，可以捕获升力引起的阻力.已知升力系数是飞机纵横比的函数。 给出了不同纵横比范围的常用经验公式.对于固定翼飞机，经验升力系数公式也存在作为后掠角的函数.

为了覆盖整个飞行包线，空气动力学系数有时被建模为攻角的二阶正弦和余弦函数，例如文章19.然而，低和高迎角之间的失速效应在模型中没有表现出来。在文章11中，三阶三角函数用于捕捉失速影响。这些三阶三角函数的行为类似于平板模型。失速的影响也可以建模为 sigmoid 函数，以将线性范围与平板模型混合以获得高 AOA,众所周知，一旦失速，翼型的轮廓对其空气动力学性能的影响可以忽略不计.控制面偏转的影响通常是线性建模的，例如在19中或更一般地使用稳定性导数。

在 12 中提出了另一种由完全经验模型组成的方法。飞翼尾翼被分成左右翼，空气动力和力矩用二次多项式拟合为飞机速度、螺旋桨角速度和 控制面偏转。 尽管这种方法对于给定的平台可能非常准确，但它纯粹是基于实验，因此需要进行大量的风洞测试。

最相关的模拟器之一是来自 Selig文章22的模拟器。 该型号专为小型特技飞机设计。 它使用组件分解方法，其中机翼被分成几个具有自己表面的部分，并产生升力、阻力和俯仰力矩。 这三个量的空气动力系数是针对全攻角和操纵面偏转范围预先计算的，并在模拟过程中通过线性插值进行检索。

在这项研究中，选择部件分解方法来模拟机翼空气动力学。 平板理论基于航空航天机电一体化实验室文章23的先前工作，用于根据流入速度和最终的控制面偏转实时计算机翼每个部分的空气动力和力矩。


### 1.4:研究目标

1:为所选平台开发完整的飞行包线实时模拟器。将围绕薄平板空气动力学模型文章23建立一个模拟器，并将包括地面接触和结构空气动力学建模在内的相关组件纳入其中。

2：为所有飞行模式开发单一控制器。 为特技固定翼飞机（文章14）开发的基于四元数的控制器将被修改以在尾翼平台上实施。

3：展示控制器的自主能力。 控制器将在模拟环境中进行测试。它也将在真实环境和平台中测试。目的是通过实验证明单控制器是否适用于尾翼平台，包括过渡机动。

4：根据飞行实验数据对模拟器进行定性评估。 将比较来自模拟飞行测试和真实实验的数据并调查差异。


### 1.5:论文组织

本论文分为三个部分。 首先，实时模拟器记录在第 2 章，其中介绍了运动方程，然后是详细的动力学模型和半经验模型所需的测量。 然后，在第 3 章中介绍了控制策略，其中将飞行任务划分为基本机动，并详细介绍了控制架构。 在第 4 章中，介绍了模拟和真实平台上的飞行测试，并对模拟器性能进行了定性评估。 最后，第 5 章给出了结论以及对未来工作的建议。



## 第二部分：无人机仿真

本章描述了尾翼飞机的建模和相关的实时模拟器。 它分为五个部分。 第一部分介绍了模型开发中使用的框架和约定。 第二部分描述了刚性飞机的运动方程。 第三部分开发模拟器动力学，即模拟过程中作用在飞机上的力和力矩的模型。 第四部分介绍了一个封闭形式的空气动力学模型，用于执行测量并由第 3.2.4 节中描述的控制器的执行器混合器使用。 最后一部分报告了为提供模型参数而进行的实验测量。

模拟器在 Matlab/Simulink 中实现，X-Plane 9 用于实时轨迹的可视化，截图如图 2-1 所示。


### 2.1:框架和约定

所使用的平台是如下图所示的双推进器飞翼尾翼。 对于该系统，定义了三个参考系：

![IMAGE ALT TEXT HERE](https://github.com/xdwgood/Navigation-and-control/blob/xdwgood-patch-1/a1.png)

上图：尾翼 CAD 模型显示了车身框架 B、几何框架 G、惯性框架 I、四个致动器以及作用在部分控制表面上的滑流。 使用右手定则沿 y B 定义偏转为正。
