来源：　　　http://www.acsu.buffalo.edu/~johnc/uf_att.pdf

# 无味卡尔曼滤波用于飞行器姿态估计

## 摘要

　　一个基于无味滤波的新型姿态估计方法。对于非线性系统，“无味滤波器”使用经过精心选择的一组采样点，以比标准“扩展卡尔曼滤波器”的线性化更准确地映射概率分布，从而从不准确的初始条件不正确性估计问题中更快收敛。滤波器公式基于标准姿态矢量测量，使用基于陀螺的模型进行姿态传播.全局姿态参数化由四元数给出，而广义的三维姿态表示用于定义局部姿态误差。从局部姿态误差推导误差四元数相乘的方法，这保证了滤波过程中保持四元数归一化。仿真结果表明，在现实的初始姿态误差条件下，无味滤波器比扩展卡尔曼滤波器更健壮。

## 介绍

  扩展卡尔曼滤波器（EKF）被广泛用于姿态估计.可以使用几种参数化来表示姿态，例如欧拉角，四元数，修改的Rodrigues参数，甚至旋转矢量。由于不存在奇点并且运动学方程是双线性的，因此四元数尤其有吸引力。然而,四元数必须遵守归一化约束，与标准EKF方法相关的线性测量更新会违反该约束。克服这一不足的最常见的方法是使用乘法误差四元数，在忽略高阶项后，四元数可以有效地被一个三分量误差向量代替。在理想的情况下，例如小的姿态误差，此方法非常有效。

　参考文献[2]中提出的公式中一个有趣的事实是，4×4四元数协方差被假设秩为3，即，4×4矩阵可以被投影到3×3矩阵上而没有任何信息损失。但是，这仅在约束为线性时才严格有效，而四元数则不是这种情况。但是，协方差几乎是奇异的，而线性计算（例如EKF）可以使其完全奇异。这种方法对于较小的估计误差是合理的，但是可能会在有效线性区域之外（例如，在EKF的初始化阶段）造成困难。

几种方法已经解决了姿态估计的初始化问题。参考文献[6]在测量更新中明确包括四元数约束。这对于较大的初始条件错误有效。 但是，协方差传播和测量更新需要关于先前误差估计的线性化，这可能会产生偏差估计。参考文献[7]将测量更新分为两个步骤。线性第一步使用所需状态的转换，而第二步使用非递归最小化以恢复所需状态。这也很好用； 但是，第二步需要在每个时间步上对约束最小化问题进行局部迭代。

本文展示了一种基于Julier，Uhlmann和Durrant-Whyte [8]开发的滤波器的新姿态估计方法，作为EKF的替代方案。他们将这种过滤器方法称为无味过滤器（UF），与EKF相比，具有多个优点，包括：1）预期误差低于EKF，2）新滤波器可以应用于不可微函数，3）新滤波器避免推导雅可比矩阵，以及4）新的过滤器对比标准EKF更高阶的扩展有效。UF的工作前提是，在固定数量的参数的情况下，近似高斯分布要比近似任意非线性函数容易。此外，“UF”在更新后使用了标准的卡尔曼形式，但使用了不同的协方差传播和预测量更新，没有局部迭代。

与标准EKF一样，直接将UF与姿态的四元数参数化一起使用会生成非单位四元数估计。线性化模型，例如参考资料中使用的模型 [2]，没有充分利用“ UF”功能。本文提出的另一种方法是使用三分量姿态误差向量来表示四元数误差向量。可能有几种三分量表示形式，包括Gibbs向量（也称为Rodrigues参数的向量），它在180°旋转时具有奇异性，而修改过的Rodrigues参数（MRP）的向量在360°处具有奇异性。参考文献[11]证明，MRPs向量的四倍和Gibbs向量的两倍导致相同的二阶近似。我们选择一种广义的表示形式，其中奇点可放置在180°至360°之间的任何位置。由于我们仅使用三分量表示来表示姿态误差，因此在实践中绝不会遇到奇点。更新是使用四元数乘法执行的，从而形成一种维护规范化约束的自然方式。

本文的组织过程如下：首先，对“ UF”进行回顾.然后，简要回顾了四元数的姿态运动学和陀螺模型，随后回顾了广义的三分量误差矢量表示。然后，使用具有三分量误差矢量表示的乘四元数更新来导出用于姿态估计的UF.最后，利用热带降雨测量任务(TRMM)的模拟三轴磁强计和陀螺测量，将新滤波器与EKF进行了比较。

## 无味滤波

在本节中，UF进行了回顾。参考文献[13]中提出的滤波器是为离散时间非线性方程而推导的，其中系统模型为:

![IMAGE ALT TEXT HERE](https://github.com/xdwgood/Navigation-and-control/blob/xdwgood-patch-1/259.png)


